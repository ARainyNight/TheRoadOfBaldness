### Mysql数据操作

####添加记录

- ```sql
  insert [into] tbl_name[{col_name,...}]{value|values}(values...);
  ```

- 不指定字段名称

  - ```sql
    insert tbl_name value(value....);
    ```

  - 需要按照建表时的字段顺序给每一个字段赋值

- 列出指定字段

  - ```sql
    insert tbl_name(字段名称,...)values(值,....);
    ```

- `insert ... set`的形式

  - ```sql
    insert tbl_name set 字段名称=值,....;
    ```

- `insert ... select`

  - ```sql
    insert tbl_name[(字段名称)] select 字段名称,... from tbl_name [where 条件]; 
    ```

- 一次添加多条记录

  - ```sql
    insert tbl_name[(字段名称,....)]values(值,....),
    (值,....),
    (值,....);
    ```

####修改记录

- ```sql
  update tbl_name set 字段名称=值，字段名称=值[where 条件];
  ```

- 如果不添加条件，整个表中的记录都会被更新

####删除记录

- ```sq
  delete from tbl_name[where 条件];
  ```

- 如果不添加条件，表中所有记录都会被删除

- delete清空数据表的时候不会重置AUTO_INCREMENT的值，可以通过ALTER语句将其重置为1

- 彻底清空数据表

  - `truncate [table] tbl_name`

####查询记录

- ```sql
  select select_expr,... from tbl_name
  [where 条件]
  [group by{col_name|position} having 二次筛选]
  [order by{col_name|position} [asc|desc]]
  [limit 限制结果集的显示条数]
  ```

- 查询表中所有记录

  - ```sql
    select * from tbl_name;
    ```

  - `*`代表所有字段

- 指定字段的信息

  - ```sql
    select 字段名称,... from tbl_name;
    ```

- 库名.表名

  - ```sql
    select 字段名称,... from db_name.tbl_name; 
    ```

- 给字段起别名

  - ```sql
    select 字段名称 [as] 别名名称,... from db_name.tbl_name;
    ```

- 给数据表起别名

  - ```sql
    select 字段名称,.... from tbl_name [as] 别名;
    ```

- 表名.字段名称

  - ```sql
    select tbl_name.col_name,... from tbl_name;
    ```

- where条件

  - 会筛选出符合条件的记录

    - 比较运算符 `>,<,>=,<=,!=,<>,<=>`

    - `<=>`和`=`的区别

      - `<=>`可以检测null值

    - `is [not] null`

      - 检测值是否为null或者not null

    - 指定范围

      - ```sql
        [not] between ... and 
        ```

    - 指定集合

      - ```sql
        [not] in(值,...)
        ```

    - 逻辑运算符

      - `and` 逻辑与
      - `or`  逻辑或

    - 匹配字符

      - ```sql
        [not] like
        ```

      - `%`:任意长度的字符串

      - `_`：任意一个字符 

  - GROIP BY分组

    - 把值相同的放到一个组中，最终查询出的结果只会显示组中的一条记录

-------------

    #### 多表查询

+ 笛卡尔积的形式

+ 内连接的形式

  - 查询两个表中符合连接条件的记录

  - ```sql
    select 字段名称,.... from tbl_name1
    inner join tbl_name2
    on 连接条件
    ```

+ 外连接的形式

  - 左外连接

    - 先显示左表中的全部记录，再去右表中查询符合条件的记录，不符合的以null代替

    - ```sql
      select 字段名称,... from tbl_name1
      left [outer] join tbl_name2
      on 条件;
      ```

  - 右外连接

    - 先显示右表中的全部记录，再去左表中查询符合条件的记录，不符合的以null代替

    - ```sql
      select 字段名称,... from tbl_name1
      right [outer] join tbl_name2
      on 条件;
      ```

      

